<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<!-- DO NOT MODIFY INDEX.HTM! -->
<!-- It is a symbolic link. Instead modify e.g. configs/index_stanford.htm -->

<!-- Also: DO NOT MODIFY INDEX_STANFORD OR INDEX_STEWIE!    -->
<!-- Modify index_unified instead, and then copy it to the    -->
<!-- other two.  Yes it's a horrible hack, we'll fix it someday. -->

<html>
  <head>
    <title>Genesis Home - </title><!-- remainder of title filled in by init(), below -->
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <link rel="shortcut icon" href="favicon.ico">
    <script type="text/javascript" src="secret_buttons.js"></script>

    <!-- Now using javascript instead of <base> tag -->
    <!-- base href="http://www-vlsi.stanford.edu/cgi-bin/genesis/" -->
    <!-- base href="STEWIE_BASE_HREF_HERE/cgi/"> -->
    <!-- e.g. base href="http://neva-2:8080/cgi/" -->

    <style type="text/css">
      .module { border: 8px solid #990000; width: 320px; height: 440px;
                border-spacing: 4px; background-color: #e7d19a; }
      .secret_button { font-size:0.5em; display:inline }
    </style>

    <script>
      function init() {

        // E.g. "http://vlsi.stanford.edu" or "http://vlsi.stanford.edu:8080"
        var lo = location.origin; // alert(lo);

        var stewie = lo.match(/[:]\d+[\/]?$/);
        // E.g. stewie TRUE if lo = "http://vlsiweb.stanford.edu:8080" (normal)
        //                  or lo = "http://vlsiweb.stanford.edu:8080/" (weird)

        var title = stewie ? "Stewie the Standalone GUI" : "Stanford Edition";
        document.title += title;

        // If we are (a) Stewie, we point to our own FFT generator.
        // Otherwise, we point to Stewie 8080 on vlsiweb.
        var stewie_url = stewie ? lo : "http://vlsiweb.stanford.edu:8080";
        document.getElementById("a_fftgen").href = stewie_url + "/configs/fftgen_gateway.htm";

        var cgi = stewie ? (lo + "/cgi") : (lo + "/cgi-bin/genesis");
        //if (stewie) { alert("it's stewie!      cgi='" + cgi); }
        //else        { alert("it's not stewie.  cgi='" + cgi); }

        // I do this instead of "base href"
        document.getElementById("a_cmpdemo").href = cgi + 
            '/opendesign.pl?newdesign=cmpdemo&file=../designs/CMP/cmp-baseline.xml';

        document.getElementById("a_choosedesign").href = cgi + "/choosedesign.pl";
        document.getElementById("a_about").href        = cgi + "/about.pl";

        var tree = stewie ? "/images/stanford_seal.gif" : "/genesis/images/stanford_seal.gif";
        document.getElementById("img_tree").src = lo  + tree;
      }
    </script>

  </head>
  <!--==================================================================-->
  <body onload="init()">
    <noscript style="font-size:xx-large">
      <br><br><br>
      Note: you appear to have javascript turned off.<br>
      This site <b>WILL NOT WORK</b> for you!<br><br><br><br><br><br>
    </noscript>
    <table class=module>
	<tr>
	  <td style='vertical-align:top; text-align:center'>
	    <h2>
               Welcome to the<br>Interactive Chip Generator<br>
	       <small><i>powered by Genesis</i></small>
            </h2>

	    <hr><!--==================================================================-->
	    <h3>
	      <a id="a_cmpdemo"><!-- href link generated by onload init() script, above. -->
		  CMP generator (demo)
              </a>
	    </h3>

	    <hr><!--==================================================================-->
	    <h3>
	      <!-- a href = 'http://vlsiweb.stanford.edu:8080/configs/fftgen_gateway.htm' -->
	      <a id="a_fftgen">
		  New and improved FFT generator
              </a>
	    </h3>

	    <hr><!--==================================================================-->
	    <h3>
	      <a href = 'http://vlsiweb.stanford.edu/genesis/configs/fftgen_gateway.htm'>
		  Old and inferior FFT generator
              </a><br>
              <small><i>Generates Verilog but cannot run or verify it.</i></small>
	    </h3>

	    <hr><!--==================================================================-->
	    <h3>
	      <a id="a_choosedesign"><!-- href link generated by onload init() script, above. -->
                  Other generators
              </a>
	    </h3>
	    <hr><!--==================================================================-->

            <!-- Secret buttons.  Shhhh!!! -->
            <div style="text-align:left">
              <div class=secret_button style="color:black"
                   title='secret button: disable new-array mode'
                   id=toggle_cookie_NEW_ARRAY_MODE onclick='toggle_cookie("NEW_ARRAY_MODE","a")'>a
              </div>
              <div class=secret_button style="color:black"
                   title='secret button: turn off comments'
                   id=toggle_cookie_COMMENTS  onclick='toggle_cookie("COMMENTS", "c")'>c
              </div>
              <div class=secret_button style="color:gray"
                   title='secret button: turn on debugging'
                   id=toggle_cookie_DEBUG     onclick='toggle_cookie("DEBUG",    "d")'>d
              </div>
              <div class=secret_button style="color:black"
                   title='secret button: about'>
                   <!-- href="about.pl" -->
                   <!-- href link generated by onload init() script, above. -->
                   <a id="a_about">?</a>
              </div>
            </div>

	    <!-- h3>(Snazzy logo goes here)</h3 -->
            <!-- src generated by onload init() script, above. -->
            <center><img height="100" id="img_tree" alt="tree"></center>

            <!-- HTML compliance -->
            <div style="text-align:right">
              <a href="http://validator.w3.org/check?uri=referer">
                  <img src="http://www.w3.org/Icons/valid-html401"
                       alt="Valid HTML 4.01 Transitional" height=12>
                  <!-- width=44 -->
                  <!-- height="31" width="88" -->
              </a>
            </div>
	  </td>
	</tr>
    </table>
  </body>
  <!--==================================================================-->
</html>
